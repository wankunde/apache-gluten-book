# Apache Gluten æ·±å…¥æµ…å‡º

<!-- 
<p align="center">
  <img src="images/book-cover.png" alt="Apache Gluten Book" width="300">
</p>
-->

> ä¸€æœ¬ä»å…¥é—¨åˆ°ç²¾é€šçš„ Apache Gluten ä¸­æ–‡æŒ‡å—

[![License: CC BY-NC-SA 4.0](https://img.shields.io/badge/License-CC%20BY--NC--SA%204.0-lightgrey.svg)](https://creativecommons.org/licenses/by-nc-sa/4.0/)
[![GitHub Stars](https://img.shields.io/github/stars/wankunde/apache-gluten-book?style=social)](https://github.com/wankunde/apache-gluten-book)

## ğŸ“– å…³äºæœ¬ä¹¦

æœ¬ä¹¦æ˜¯ä¸€æœ¬å…¨é¢ä»‹ç» Apache Gluten çš„ä¸­æ–‡ä¹¦ç±ï¼Œæ—¨åœ¨å¸®åŠ©è¯»è€…ä»é›¶å¼€å§‹å­¦ä¹  Glutenï¼Œæ·±å…¥ç†è§£å…¶æ¶æ„åŸç†ï¼ŒæŒæ¡åç«¯æ‰§è¡Œå¼•æ“ï¼ˆVelox å’Œ ClickHouseï¼‰çš„ä½¿ç”¨å’Œä¼˜åŒ–ã€‚

### ç›®æ ‡è¯»è€…

- **åˆçº§è¯»è€…**ï¼šå¸Œæœ›äº†è§£å’Œä½¿ç”¨ Gluten çš„å¤§æ•°æ®å·¥ç¨‹å¸ˆ
- **ä¸­çº§è¯»è€…**ï¼šå¸Œæœ›æ·±å…¥ç†è§£ Gluten æ¶æ„çš„å¼€å‘è€…
- **é«˜çº§è¯»è€…**ï¼šå¸Œæœ›è´¡çŒ®ä»£ç æˆ–è¿›è¡Œå®šåˆ¶åŒ–å¼€å‘çš„æ ¸å¿ƒå¼€å‘è€…

### ä¸ºä»€ä¹ˆè¦å†™è¿™æœ¬ä¹¦

Apache Gluten æ˜¯ä¸€ä¸ªé©å‘½æ€§çš„é¡¹ç›®ï¼Œå®ƒé€šè¿‡å°† Spark SQL çš„æ‰§è¡Œå¸è½½åˆ°åŸç”Ÿæ‰§è¡Œå¼•æ“ï¼ˆå¦‚ Velox å’Œ ClickHouseï¼‰ï¼Œå®ç°äº†æ˜¾è‘—çš„æ€§èƒ½æå‡ã€‚ç„¶è€Œï¼Œç›®å‰ç¼ºå°‘ç³»ç»Ÿæ€§çš„ä¸­æ–‡å­¦ä¹ èµ„æ–™ã€‚æœ¬ä¹¦æ—¨åœ¨å¡«è¡¥è¿™ä¸€ç©ºç™½ï¼Œè®©æ›´å¤šçš„ä¸­æ–‡å¼€å‘è€…èƒ½å¤Ÿå­¦ä¹ å’Œä½¿ç”¨ Glutenã€‚

## ğŸ“š ç›®å½•ç»“æ„

### ç¬¬ä¸€éƒ¨åˆ†ï¼šå…¥é—¨ç¯‡
- [ç¬¬1ç« ï¼šGluten ç®€ä»‹](chapters/part1-beginner/chapter01-introduction.md)
- [ç¬¬2ç« ï¼šå¿«é€Ÿå…¥é—¨](chapters/part1-beginner/chapter02-quick-start.md)
- [ç¬¬3ç« ï¼šGluten ä½¿ç”¨æŒ‡å—](chapters/part1-beginner/chapter03-usage-guide.md)

### ç¬¬äºŒéƒ¨åˆ†ï¼šæ¶æ„ç¯‡
- [ç¬¬4ç« ï¼šGluten æ•´ä½“æ¶æ„](chapters/part2-architecture/chapter04-overall-architecture.md)
- [ç¬¬5ç« ï¼šæŸ¥è¯¢è®¡åˆ’è½¬æ¢](chapters/part2-architecture/chapter05-query-plan-transformation.md)
- [ç¬¬6ç« ï¼šå†…å­˜ç®¡ç†](chapters/part2-architecture/chapter06-memory-management.md)
- [ç¬¬7ç« ï¼šæ•°æ®æ ¼å¼ä¸ä¼ è¾“](chapters/part2-architecture/chapter07-data-format-and-transfer.md)
- [ç¬¬8ç« ï¼šColumnar Shuffle](chapters/part2-architecture/chapter08-columnar-shuffle.md)
- [ç¬¬9ç« ï¼šFallback æœºåˆ¶æ·±å…¥](chapters/part2-architecture/chapter09-fallback-mechanism.md)
- [ç¬¬10ç« ï¼šå¤šç‰ˆæœ¬å…¼å®¹ï¼ˆShim Layerï¼‰](chapters/part2-architecture/chapter10-shim-layer.md)

### ç¬¬ä¸‰éƒ¨åˆ†ï¼šåç«¯å¼•æ“ç¯‡
- [ç¬¬11ç« ï¼šVelox åç«¯è¯¦è§£](chapters/part3-backends/chapter11-velox-backend.md)
- [ç¬¬12ç« ï¼šClickHouse åç«¯è¯¦è§£](chapters/part3-backends/chapter12-clickhouse-backend.md)
- [ç¬¬13ç« ï¼šåç«¯å¯¹æ¯”ä¸é€‰æ‹©](chapters/part3-backends/chapter13-backend-comparison.md)

### ç¬¬å››éƒ¨åˆ†ï¼šæºç å‰–æç¯‡
- [ç¬¬14ç« ï¼šæºç ç¯å¢ƒæ­å»º](chapters/part4-source-code/chapter14-dev-environment-setup.md)
- [ç¬¬15ç« ï¼šæ ¸å¿ƒæ¨¡å—æºç åˆ†æ](chapters/part4-source-code/chapter15-core-modules-analysis.md)
- [ç¬¬16ç« ï¼šç®—å­å®ç°å‰–æ](chapters/part4-source-code/chapter16-operator-implementation.md)
- [ç¬¬17ç« ï¼šæ‰©å±•å¼€å‘](chapters/part4-source-code/chapter17-extension-development.md)
- [ç¬¬18ç« ï¼šæµ‹è¯•ä¸è´¨é‡ä¿è¯](chapters/part4-source-code/chapter18-testing-quality.md)
- [ç¬¬19ç« ï¼šæ€§èƒ½åˆ†æä¸è°ƒä¼˜](chapters/part4-source-code/chapter19-performance-tuning.md)

### ç¬¬äº”éƒ¨åˆ†ï¼šå®æˆ˜ç¯‡
- [ç¬¬20ç« ï¼šç”Ÿäº§ç¯å¢ƒéƒ¨ç½²](chapters/part5-practice/chapter20-production-deployment.md)
- [ç¬¬21ç« ï¼šæ¡ˆä¾‹åˆ†æ](chapters/part5-practice/chapter21-case-studies.md)
- [ç¬¬22ç« ï¼šæ•…éšœæ’æŸ¥å®æˆ˜](chapters/part5-practice/chapter22-troubleshooting.md)

### ç¬¬å…­éƒ¨åˆ†ï¼šç¤¾åŒºä¸æœªæ¥
- [ç¬¬23ç« ï¼šç¤¾åŒºå‚ä¸](chapters/part6-community/chapter23-community-participation.md)
- [ç¬¬24ç« ï¼šGluten çš„æœªæ¥](chapters/part6-community/chapter24-future-of-gluten.md)

### é™„å½•
- [é™„å½•Aï¼šé…ç½®å‚æ•°é€ŸæŸ¥è¡¨](appendices/appendix-a-configuration-reference.md)
- [é™„å½•Bï¼šå‡½æ•°æ”¯æŒåˆ—è¡¨](appendices/appendix-b-function-support-list.md)
- [é™„å½•Cï¼šæœ¯è¯­è¡¨](appendices/appendix-c-glossary.md)
- [é™„å½•Dï¼šå‚è€ƒèµ„æº](appendices/appendix-d-reference-resources.md)

## ğŸš€ å¿«é€Ÿå¼€å§‹

### åœ¨çº¿é˜…è¯»

- **GitHub Pages**: [https://wankunde.github.io/apache-gluten-book](https://wankunde.github.io/apache-gluten-book)
- **Google Docs**: [é“¾æ¥å¾…æ·»åŠ ]

### æœ¬åœ°é˜…è¯»

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/wankunde/apache-gluten-book.git
cd apache-gluten-book

# ä½¿ç”¨ Markdown é˜…è¯»å™¨æŸ¥çœ‹
# æˆ–è€…ä½¿ç”¨ MkDocs æ„å»ºé™æ€ç«™ç‚¹ï¼ˆå¯é€‰ï¼‰
pip install mkdocs mkdocs-material
mkdocs serve
# è®¿é—® http://localhost:8000
```

## ğŸ“ ä»£ç ç¤ºä¾‹

æœ¬ä¹¦åŒ…å«ä¸°å¯Œçš„**ç”Ÿäº§çº§ä»£ç ç¤ºä¾‹**ï¼Œä½äº `code-examples/` ç›®å½•ï¼š

### ğŸ“Š ç»Ÿè®¡æ¦‚è§ˆ
- **æ€»æ–‡ä»¶æ•°**: 24 ä¸ªï¼ˆ16 ä¸ªæ–°å¢æ ¸å¿ƒå·¥å…· + 8 ä¸ªåŸæœ‰ç¤ºä¾‹ï¼‰
- **ä»£ç è¡Œæ•°**: ~6,000 è¡Œ
- **è¦†ç›–ç« èŠ‚**: ç¬¬2-13ç« 
- **è´¨é‡ç­‰çº§**: ç”Ÿäº§çº§ï¼ˆå®Œæ•´æ³¨é‡Šã€é”™è¯¯å¤„ç†ã€ä½¿ç”¨æ–‡æ¡£ï¼‰

### ğŸ¯ æ ¸å¿ƒå·¥å…·äº®ç‚¹

#### æ€§èƒ½åˆ†æå·¥å…·
- **PlanTransformationDemo.scala** - æ‰§è¡Œè®¡åˆ’å¯¹æ¯”åˆ†æ
- **MemoryMonitoring.scala** - å†…å­˜ç›‘æ§å’Œæ³„æ¼æ£€æµ‹
- **ColumnarShuffleDemo.scala** - Shuffle æ€§èƒ½å¯¹æ¯”

#### é—®é¢˜è¯Šæ–­å·¥å…·
- **FallbackDetection.scala** - è‡ªåŠ¨ Fallback æ£€æµ‹
- **fallback_analysis.py** - Fallback åŸå› åˆ†æå’ŒæŠ¥å‘Šç”Ÿæˆ

#### åç«¯å¯¹æ¯”å·¥å…·
- **backend_comparison.py** - Velox vs ClickHouse è‡ªåŠ¨åŒ–æµ‹è¯•
- **switch-backend.sh** - ä¸€é”®åç«¯åˆ‡æ¢è„šæœ¬

#### é…ç½®æ¨¡æ¿
- **velox-config.conf** - Velox å®Œæ•´é…ç½®ï¼ˆ205è¡Œï¼‰
- **clickhouse-config.conf** - ClickHouse å®Œæ•´é…ç½®ï¼ˆ156è¡Œï¼‰

#### å¼€å‘ç¤ºä¾‹
- **velox_udf_example.cpp** - Velox Native UDF å¼€å‘
- **shuffle_compression_benchmark.py** - å‹ç¼©ç®—æ³•åŸºå‡†æµ‹è¯•

ğŸ“– **å®Œæ•´åˆ—è¡¨å’Œä½¿ç”¨è¯´æ˜**: [code-examples/README.md](code-examples/README.md)

### æŒ‰è¯­è¨€åˆ†ç±»
- **Scala**: [code-examples/scala/](code-examples/scala/) - 9 ä¸ªæ–‡ä»¶ï¼Œ3,100+ è¡Œ
- **Python**: [code-examples/python/](code-examples/python/) - 7 ä¸ªæ–‡ä»¶ï¼Œ2,200+ è¡Œ
- **Shell**: [code-examples/shell/](code-examples/shell/) - 3 ä¸ªæ–‡ä»¶ï¼Œ440 è¡Œ
- **Config**: [code-examples/configs/](code-examples/configs/) - 4 ä¸ªæ–‡ä»¶ï¼Œ480 è¡Œ
- **C++**: [code-examples/cpp/](code-examples/cpp/) - 1 ä¸ªæ–‡ä»¶ï¼Œ51 è¡Œ

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿ä»»ä½•å½¢å¼çš„è´¡çŒ®ï¼å¦‚æœä½ å‘ç°é”™è¯¯ã€æœ‰æ”¹è¿›å»ºè®®ï¼Œæˆ–è€…æƒ³è¦æ·»åŠ æ–°çš„å†…å®¹ï¼Œè¯·ï¼š

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºä½ çš„ç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/amazing-content`)
3. æäº¤ä½ çš„æ”¹åŠ¨ (`git commit -m 'æ·»åŠ äº†æŸæŸå†…å®¹'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-content`)
5. å¼€å¯ä¸€ä¸ª Pull Request

### è´¡çŒ®è€…

æ„Ÿè°¢æ‰€æœ‰ä¸ºæœ¬ä¹¦åšå‡ºè´¡çŒ®çš„äººï¼

<a href="https://github.com/wankunde/apache-gluten-book/graphs/contributors">
  <img src="https://contrib.rocks/image?repo=wankunde/apache-gluten-book" />
</a>

## ğŸ“„ è®¸å¯è¯

æœ¬ä¹¦é‡‡ç”¨ [Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License](LICENSE) è®¸å¯ã€‚

- âœ… å¯ä»¥åˆ†äº«å’Œæ”¹ç¼–æœ¬ä¹¦å†…å®¹
- âœ… å¿…é¡»æ³¨æ˜åŸä½œè€…
- âŒ ä¸å¾—ç”¨äºå•†ä¸šç”¨é€”
- âœ… æ”¹ç¼–ä½œå“å¿…é¡»ä½¿ç”¨ç›¸åŒè®¸å¯

## ğŸ”— ç›¸å…³èµ„æº

### Apache Gluten å®˜æ–¹èµ„æº
- [Apache Gluten å®˜ç½‘](https://gluten.apache.org/)
- [GitHub ä»“åº“](https://github.com/apache/incubator-gluten)
- [å®˜æ–¹æ–‡æ¡£](https://github.com/apache/incubator-gluten/tree/main/docs)
- [é‚®ä»¶åˆ—è¡¨](mailto:dev@gluten.apache.org)

### åç«¯å¼•æ“
- [Velox](https://github.com/facebookincubator/velox)
- [ClickHouse](https://clickhouse.com/)
- [Substrait](https://substrait.io/)

### ç¤¾åŒº
- [Slack Channel](https://the-asf.slack.com/) - é¢‘é“ï¼š#incubator-gluten
- [GitHub Discussions](https://github.com/apache/incubator-gluten/discussions)

## ğŸ“® è”ç³»æ–¹å¼

å¦‚æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- æäº¤ [GitHub Issue](https://github.com/wankunde/apache-gluten-book/issues)
- å‘é€é‚®ä»¶è‡³ï¼š[wankunde@163.com]

## â­ Star History

å¦‚æœæœ¬ä¹¦å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼

[![Star History Chart](https://api.star-history.com/svg?repos=wankunde/apache-gluten-book&type=Date)](https://star-history.com/#wankunde/apache-gluten-book&Date)

## ğŸ“Š è¿›åº¦

**æœ¬ä¹¦å·²å®Œæˆï¼** âœ…

- [x] é¡¹ç›®æ¡†æ¶æ­å»º
- [x] ç¬¬ä¸€éƒ¨åˆ†ï¼šå…¥é—¨ç¯‡ï¼ˆ3/3 ç« å®Œæˆï¼‰
- [x] ç¬¬äºŒéƒ¨åˆ†ï¼šæ¶æ„ç¯‡ï¼ˆ7/7 ç« å®Œæˆï¼‰
- [x] ç¬¬ä¸‰éƒ¨åˆ†ï¼šåç«¯å¼•æ“ç¯‡ï¼ˆ3/3 ç« å®Œæˆï¼‰
- [x] ç¬¬å››éƒ¨åˆ†ï¼šæºç å‰–æç¯‡ï¼ˆ6/6 ç« å®Œæˆï¼‰
- [x] ç¬¬äº”éƒ¨åˆ†ï¼šå®æˆ˜ç¯‡ï¼ˆ3/3 ç« å®Œæˆï¼‰
- [x] ç¬¬å…­éƒ¨åˆ†ï¼šç¤¾åŒºä¸æœªæ¥ï¼ˆ2/2 ç« å®Œæˆï¼‰
- [x] é™„å½•ï¼ˆ4/4 ä¸ªé™„å½•å®Œæˆï¼‰

**ç»Ÿè®¡æ•°æ®**ï¼š
- ğŸ“– æ€»ç« èŠ‚ï¼š24ç«  + 4ä¸ªé™„å½•
- ğŸ“ æ€»å­—ç¬¦æ•°ï¼š~535,000
- ğŸ“„ æ€»é¡µæ•°ï¼š~23,500 è¡Œ
- ğŸ’¾ ä»£ç ç¤ºä¾‹ï¼š7ä¸ªå®Œæ•´ç¤ºä¾‹
- ğŸ¨ æ¶æ„å›¾ï¼š7+ ä¸ª Mermaid å›¾è¡¨

---

<p align="center">
  <b>è®©æˆ‘ä»¬ä¸€èµ·å­¦ä¹  Apache Glutenï¼ŒåŠ é€Ÿå¤§æ•°æ®å¤„ç†ï¼</b>
</p>

<p align="center">
  Made with â¤ï¸ by the Apache Gluten Community
</p>
